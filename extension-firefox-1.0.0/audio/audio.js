const e=new Audio;window.addEventListener("message",(a=>{const s=JSON.parse(a.data),t=(Date.now()-s.ts)/1e3;switch(s.event){case"loaded":e.src=s.message.audioUrl;break;case"unloaded":case"pause":e.pause();break;case"play":e.currentTime=s.message.time+t,e.play();break;case"timeupdate":{const a=e.currentTime-(s.message.time+t);Math.abs(a)>1?e.currentTime=s.message.time+t:e.playbackRate=a>.1?.9:a<-.1?1.1:1;break}}}));const a=document.querySelector("#volume");a.addEventListener("input",(()=>{e.volume=a.valueAsNumber;}));
